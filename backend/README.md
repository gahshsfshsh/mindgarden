# MindGarden Backend API

Backend API –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è MindGarden ‚Äî wellness-–ø–æ–º–æ—â–Ω–∏–∫ —Å —Å–æ–≤–µ—Ç–∞–º–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é, —Å–Ω—É –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp ENV_TEMPLATE.txt .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

### 3. –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
python seed_content.py
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
uvicorn main:app --reload --port 8000
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://localhost:8000/docs`

## üìö API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/register` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` ‚Äî –í—Ö–æ–¥
- `GET /api/auth/me` ‚Äî –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### AI Wellness Chat ü§ñ
- `POST /api/chat` ‚Äî –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ AI-–ø–æ–º–æ—â–Ω–∏–∫—É
- `GET /api/chat/history` ‚Äî –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞
- `DELETE /api/chat/history` ‚Äî –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

**–¢–µ–º—ã AI-–ø–æ–º–æ—â–Ω–∏–∫–∞:**
- üçé –ü–∏—Ç–∞–Ω–∏–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
- üò¥ –°–æ–Ω –∏ —Ä–µ–∂–∏–º —Å–Ω–∞
- üí™ –§–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–ø–æ—Ä—Ç
- üíß –í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å
- ‚ö° –≠–Ω–µ—Ä–≥–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

> ‚ö†Ô∏è AI –ù–ï –¥–∞—ë—Ç —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏, —Ç–µ—Ä–∞–ø–∏–∏ –∏–ª–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º

### –ö–æ–Ω—Ç–µ–Ω—Ç
- `GET /api/content` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (–º–µ–¥–∏—Ç–∞—Ü–∏–∏, –¥—ã—Ö–∞–Ω–∏–µ, —Å–æ–Ω, CBT)
- `GET /api/content/{id}` ‚Äî –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ ID
- `POST /api/content/{id}/play` ‚Äî –ó–∞–ø–∏—Å–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

### –ü—Ä–æ–≥—Ä–µ—Å—Å
- `GET /api/progress` ‚Äî –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/progress/session` ‚Äî –ó–∞–ø–∏—Å–∞—Ç—å —Å–µ—Å—Å–∏—é
- `GET /api/progress/achievements` ‚Äî –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
- `POST /api/mood` ‚Äî –ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
- `GET /api/mood/history` ‚Äî –ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è

### –ü–ª–∞—Ç–µ–∂–∏
- `POST /api/payments/create` ‚Äî –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂ (–Æ–ö–∞—Å—Å–∞/Stripe)
- `POST /api/payments/webhook/yukassa` ‚Äî Webhook –Æ–ö–∞—Å—Å—ã
- `POST /api/payments/webhook/stripe` ‚Äî Webhook Stripe

## üí∞ –ü–æ–¥–ø–∏—Å–∫–∏

| –ü–ª–∞–Ω | –¶–µ–Ω–∞ RUB | –¶–µ–Ω–∞ USD |
|------|----------|----------|
| –ú–µ—Å—è—á–Ω–∞—è | 449 ‚ÇΩ | $4.99 |
| –ì–æ–¥–æ–≤–∞—è | 2990 ‚ÇΩ | $29.99 |
| –ù–∞–≤—Å–µ–≥–¥–∞ | 4990 ‚ÇΩ | $49.99 |

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** ‚Äî –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Python –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy** ‚Äî ORM
- **PostgreSQL/SQLite** ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **OpenAI GPT-4o-mini** ‚Äî AI wellness chat
- **Stripe + –Æ–ö–∞—Å—Å–∞** ‚Äî –ü–ª–∞—Ç–µ–∂–∏

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Vercel
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `vercel.json` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üì± –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

Base URL (–ª–æ–∫–∞–ª—å–Ω–æ): `http://localhost:8000`

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ (–∫—Ä–æ–º–µ `/api/auth/register` –∏ `/api/auth/login`):

```
Authorization: Bearer <token>
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ AI Chat:

```bash
curl -X POST "http://localhost:8000/api/chat" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"message": "–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞?"}'
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
